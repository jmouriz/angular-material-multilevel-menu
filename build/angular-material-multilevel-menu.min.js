(function(e,s,u){"use strict";var o=function(e,t){for(var n in e){var r=e[n];if(t(r))return r;if(r=o(r.items,t))return r}},t=s.module("ngMdMultiLevelMenu",["ngMaterial","ngAnimate","ngMdIcons"]);t.constant("STYLE",{REPLACE:1,ACCORDION:2}),t.provider("menu",["STYLE","$injector",function(e,r){var i=this;i._id=Math.random().toString(36).substr(2,5),i._breadcrumb=!0,i._title="Menu",i._back="Back",i._style=1,i._items={},i._callback=u,i.STYLE=e,i.$get=function(){return{id:i._id,breadcrumb:i._breadcrumb,title:i._title,back:i._back,style:i._style,items:i._items,callback:i._callback}},i.items=function(e,t){try{var n=r.get("$routeProvider");o(t,function(e){if(e.link){var t={templateUrl:(e.view||e.link)+".html"};e.controller&&(t.controller=e.controller),n.when("/"+e.link,t)}}),t.length&&n.otherwise({redirectTo:"/"+t[0].link})}catch(e){}i._items[e]=t},i.id=function(e){i._id=e},i.title=function(e){i._title=e},i.back=function(e){i._back=e},i.breadcrumb=function(e){i._breadcrumb=e},i.style=function(e){i._style=e},i.callback=function(e){i._callback=e}}]),t.service("$menu",["menu","STYLE","$rootScope",function(n,e,t){var r=this;r.STYLE=e,r.walk=o,r.breadcrumb=function(e){if(e==u)return n.breadcrumb;n.breadcrumb=e,t.$broadcast("reset")},r.style=function(e){if(e==u)return n.style;n.style=e,t.$broadcast("reset")},r.callback=function(e){if(e==u)return n.callback;n.callback=e},r.get=function(t){return t==u?n.items:o(n.items[n.id],function(e){return e.id&&e.id==t})}}]),t.directive("mdMultiLevelMenu",["$animate","$location","$menu","menu","STYLE",function(i,t,e,n,l){var r,a=s.element("script");for(var c in a)if((r=a[c]).src&&r.src.match(/angular-material-multilevel-menu(\.min)?\.js$/))break;return{restrict:"E",replace:!0,controller:function(r,e){r.select=function(e){e.link&&t.path(e.link),"function"==typeof n.callback&&n.callback(e)},r.reset=function(){r.breadcrumb=n.breadcrumb,r.style=n.style,r.STYLE=l,r.stack=[],r.current={label:r.title,items:n.items[r.id]}},r.click=function(e){if(e.items){if(r.style==l.REPLACE){var t=s.element("md-list.menu#"+r.id);i.addClass(t,"left").then(function(){r.stack.push(r.current),r.current={label:e.label,items:e.items},t.removeClass("ng-animate"),t.removeClass("left"),t.addClass("right"),t.addClass("ng-animate"),i.removeClass(t,"right")})}r.style==l.ACCORDION&&(e.expanded=!e.expanded)}r.select(e)},r.back=function(e){var t=r.stack.length-e,n=s.element("md-list.menu#"+r.id);i.addClass(n,"right").then(function(){do{var e=r.stack.pop()}while(--t);r.current=e,n.removeClass("ng-animate"),n.removeClass("right"),n.addClass("left"),n.addClass("ng-animate"),i.removeClass(n,"left")})},r.$on("reset",function(e){o(n.items[n.id],function(e){e.expanded=!1}),r.reset()})},templateUrl:r.src.replace(/\.js$/,".html"),scope:{},link:{pre:function(e,t,n,r){e.id=n.id||Math.random().toString(36).substr(2,5),e.title=n.mdTitle||"Menu",e.previous=n.mdBack||"Back",e.breadcrumb=function(e){return"string"==typeof e&&"true"===e}(n.mdBreadcrumb);var i=u;for(var a in n)if(a.startsWith("mdStyle")){i=a.replace(/^mdStyle/,"").toUpperCase();break}i&&(l[i]?e.style=l[i]:console.warn("unknown style",i))}}}}])}).call(this,window,window.angular,void 0);
